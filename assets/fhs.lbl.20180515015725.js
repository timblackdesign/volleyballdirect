var FHSPROD=FHSPROD||new Object();FHSPROD.labelme=FHSPROD.labelme||new Object();FHSPROD.labelme.labels=[{"id":4019,"name":"Label","position":"topright","css_inline":"","css_class":"","priority":99,"height":20,"width":20,"type":1,"display_type":1,"size_type":1,"div_style":"background-image: url(\"https:\/\/cdn.shopify.com\/s\/files\/1\/1348\/7357\/t\/2\/assets\/fhs-1491962734.png?16944722550785750620\"); background-position: right top; background-size: contain; background-repeat: no-repeat; z-index: 99; width: 20%; height: 20%; opacity: 1; position: absolute; top: 0%; right: 0%;","text_style":"text-shadow:1px 1px 3px #cccccc;transform: rotate(0deg);-webkit-transform: rotate(0deg); -moz-transform: rotate(0deg);","font_name":null,"label_image":"https:\/\/cdn.shopify.com\/s\/files\/1\/1348\/7357\/t\/2\/assets\/fhs-1491962734.png?16944722550785750620","display_text":"","new_threshold":60,"new_start_dt":"05\/15\/2018","new_end_dt":"05\/15\/2018","sale_percent":null,"sale_amt":null,"expi_dt":"06\/13\/2018","low_stock_quantity":0,"exclude_products":"1301626781810","exclude_collections":"","include_tags":"","exclude_tags":"","show_on_collection_pg":1,"show_on_product_pg":1,"apply_products":[],"apply_collections":""}];FHSPROD.labelme.settings={"add_wrapper":0,"show_on_all_variant_images":0,"mobile_ratio":"0.75","max_viewpot_ratio":"0.75","viewpot_ratio":"0.65","max_mobile_screen_width":425,"support_mobile":1,"support_small_viewpot":0,"wrap_exact_img_tag":1,"show_collection_page":1,"show_product_page":1,"show_product_page_related":1,"stop_on_first_image":1,"scale_on_hover":1,"show_multiple_labels":1};var loadScript=function(url,callback){var script=document.createElement('script');script.type='text/javascript';if(script.readyState){script.onreadystatechange=function(){if(script.readyState=='loaded'||script.readyState=='complete'){script.onreadystatechange=null;callback();}};}else{script.onreadystatechange=callback;script.onload=callback;}script.src=url;document.body.appendChild(script);};var labelInit=function(FHSPROD,jQuery){jQuery.cookie=function(b,j,m){if(typeof j!='undefined'){m=m||{};if(j===null){j='';m.expires=-1;}var e='';if(m.expires&&(typeof m.expires=='number'||m.expires.toUTCString)){var f;if(typeof m.expires=='number'){f=new Date();f.setTime(f.getTime()+(m.expires*24*60*60*1000));}else{f=m.expires;}e='; expires='+f.toUTCString();}var l=m.path?'; path='+(m.path):'';var g=m.domain?'; domain='+(m.domain):'';var a=m.secure?'; secure':'';document.cookie=[b,'=',encodeURIComponent(j),e,l,g,a].join('');}else{var d=null;if(document.cookie&&document.cookie!=''){var k=document.cookie.split(';');for(var h=0;h<k.length;h++){var c=jQuery.trim(k[h]);if(c.substring(0,b.length+1)==(b+'=')){d=decodeURIComponent(c.substring(b.length+1));break;}}}return d;}};FHSPROD.labelCookie={name:'fhs_label_me',setCookieStatus:function(){jQuery.cookie(this.name,'installed');}};FHSPROD.labelCookie.setCookieStatus();if(FHSPROD.labelme.loadedApp===true){return;}if((typeof FHSPROD)=='undefined'){var FHSPROD={};}if((typeof FHSPROD.labelme)=='undefined'){FHSPROD.labelme={};}if((typeof FHSPROD.labelme.labels)=='undefined'){FHSPROD.labelme.labels=[];}if((typeof FHSPROD.labelme.settings)=='undefined'){FHSPROD.labelme.settings={'add_wrapper':0,'max_mobile_screen_width':425,'max_viewpot_ratio':0.75,'mobile_ratio':0.65,'show_on_all_variant_images':0,'support_mobile':1,'support_small_viewpot':1,'viewpot_ratio':0.65,'wrap_exact_img_tag':0,'show_collection_page':1,'show_product_page':1,'show_product_page_related':1,'stop_on_first_image':0,'scale_on_hover':1,'show_multiple_labels':0};}if((typeof FHSPROD.themeName)==='undefined'){FHSPROD.themeName='unknown';if(Shopify&&Shopify.theme){if(Shopify.theme.name&&Shopify.theme.name.toLowerCase().indexOf('venture')>=0){FHSPROD.themeName='venture';}else if(Shopify.theme.name&&Shopify.theme.name.toLowerCase().indexOf('minimal')>=0){FHSPROD.themeName='minimal';}else if(Shopify.theme.name&&Shopify.theme.name.toLowerCase().indexOf('debut')>=0){FHSPROD.themeName='debut';}else if(Shopify.theme.name&&Shopify.theme.name.toLowerCase().indexOf('narrative')>=0){FHSPROD.themeName='narrative';}else if(Shopify.theme.name&&Shopify.theme.name.toLowerCase().indexOf('jumpstart')>=0){FHSPROD.themeName='jumpstart';}else if(Shopify.theme.name&&Shopify.theme.name.toLowerCase().indexOf('boundless')>=0){FHSPROD.themeName='boundless';}else if(Shopify.theme.name&&Shopify.theme.name.toLowerCase().indexOf('simple')>=0){FHSPROD.themeName='simple';}else if(Shopify.theme.name&&Shopify.theme.name.toLowerCase().indexOf('brooklyn')>=0){FHSPROD.themeName='brooklyn';}else if(Shopify.theme.name&&Shopify.theme.name.toLowerCase().indexOf('pop')>=0){FHSPROD.themeName='pop';}else if(Shopify.theme.name&&Shopify.theme.name.toLowerCase().indexOf('supply')>=0){FHSPROD.themeName='supply';}else if(Shopify.theme.name&&Shopify.theme.name.toLowerCase().indexOf('launchpad')>=0){FHSPROD.themeName='launchpad';}}}FHSPROD.isDefined=function(obj){return((typeof obj=='undefined')?false:true);};FHSPROD.getPositionLeft=function(elem,strCssRule){return 0;};FHSPROD.getPositionTop=function(elem,strCssRule){return 0;};FHSPROD.getMarginW=function(elem,strCssRule){var bordT=elem.outerWidth()-elem.innerWidth();var paddT=elem.innerWidth()-elem.width();var margT=elem.outerWidth(true)-elem.outerWidth();return margT/2;};FHSPROD.getMarginH=function(elem,strCssRule){var bordT=elem.outerHeight()-elem.innerHeight();var paddT=elem.innerHeight()-elem.height();var margT=elem.outerHeight(true)-elem.outerHeight();return margT/2;};FHSPROD.getPadding=function(elem,strCssRule){var bordT=elem.outerWidth()-elem.innerWidth();var paddT=elem.innerWidth()-elem.width();var margT=elem.outerWidth(true)-elem.outerWidth();return paddT;};FHSPROD.labelme.labelMain=function(variantId,image){var product=FHSPROD.labelme.product_main;for(var i=0;i<product.variants.length;i++){var variant=product.variants[i];if(variantId==variant.id){break;}}var match_count=0;var labels=FHSPROD.labelme.labels;for(var id in labels){var label=labels[id];if(label.type!=0&&label.exclude_products&&label.exclude_products.indexOf(product.id)>=0){continue;}if(label.exclude_collections){var ids=label.exclude_collections.split(',');var is_excluded=false;for(var i=0;i<ids.length;i++){if(product.collection_ids.indexOf(ids[i])>=0){is_excluded=true;break;}}if(is_excluded==true)continue;}if(label.exclude_tags&&label.exclude_tags.length>0){var tags=label.exclude_tags.split(',');for(var i=0;i<tags.length;i++){if(product.tags&&product.tags.indexOf(tags[i])>=0){is_excluded=true;break;}}if(is_excluded==true)continue;}var condition=label.conditions;if(label.hide){if(match_count>0){continue;}}if(label.hasOwnProperty('show_on_product_pg')&&label.show_on_product_pg==0){continue;}match=FHSPROD.labelme.matchLabel(product,label,image,FHSPROD.labelme.showMatchLabelSingle);if(match){match_count++;if(FHSPROD.labelme.settings.show_multiple_labels&&FHSPROD.labelme.settings.show_multiple_labels==1){continue;}else{break;}}else{continue;}}};FHSPROD.labelme.showMatchLabelSingle=function(product,label,image,display_text){var i=jQuery(image);var pwidth=i.width();var pheight=i.height();var f=jQuery(image).parents('.flickity-viewport');var i;if(f.length>0){i=f.first();}else{i=jQuery(image).parents(':not(a):not(ul):not(li)').first();}var p=i.parent();i.addClass('fhs-parent');if(FHSPROD.labelme.settings.add_wrapper==1){if(i.parent().hasClass('fhs-wrapper')==false){var p=jQuery('<div class=\"fhs-wrapper fhs-product\">').css({});i.wrap(p);}}else{i.css('position','relative');}var labelNodes=i.find('.fhs-image[data-label-id=\"'+label.id+'\"]');if(labelNodes.length>0){labelNodes.first().show();}else{var n=jQuery('<div>');n.attr('data-label-id',label.id).attr('class','fhs-image '+label.css_class).attr('style',label.div_style+label.css_inline);var t=jQuery('<div>');t.attr('style',label.text_style).text(display_text);n.append(t);var pos=label.position;n.css('position','absolute');if('custom'==pos){}else if('topleft'==pos){n.css('top','0%');n.css('left','0%');}else if('topright'==pos){n.css('top','0%');n.css('right','0%');}else if('topcenter'==pos){var csize=label.size_type==0?(((pwidth-label.width)/2)/pwidth)*100:(((100-label.width)/2));n.css('top','0%');n.css('left',csize+'%');}else if('bottomleft'==pos){n.css('bottom','0%');n.css('left','0%');}else if('bottomright'==pos){n.css('bottom','0%');n.css('right','0%');}else if('bottomcenter'==pos){var csize=label.size_type==0?(((pwidth-label.width)/2)/pwidth)*100:(((100-label.width)/2));n.css('bottol','0%');n.css('left',csize+'%');}else if('leftcenter'==pos){var csize=label.size_type==0?(((pheight-label.height)/2)/pheight)*100:(((100-label.height)/2));n.css('top',csize+'%');n.css('left','0%');}else if('rightcenter'==pos){var csize=label.size_type==0?(((pheight-label.height)/2)/pheight)*100:(((100-label.height)/2));n.css('top',csize+'%');n.css('right','0%');}else if('center'==pos){var csize=label.size_type==0?(((pwidth-label.width)/2)/pwidth)*100:(((100-label.width)/2));n.css('top',csize+'%');n.css('left',csize+'%');}insertLabel(i,label,pwidth,pheight,n,display_text);}};FHSPROD.labelme.matchLabel=function(product,label,image,callback){var type=label.type;var display_text=label.display_text;var match=false;if(label.include_tags&&label.include_tags.length>0){var tags=label.include_tags.split(',');for(var i=0;i<tags.length;i++){if(product.tags&&product.tags.indexOf(tags[i])>=0){match=true;break;}}}if(label.apply_collections&&label.apply_collections!=''){if(product.collection_ids){var ids=label.apply_collections.split(';');for(var i=0;i<ids.length;i++){if(product.collection_ids.indexOf(ids[i])>=0){match=true;break;}}}}if(label.apply_products&&label.apply_products.length>0){var apply_products_length=label.apply_products.length;for(var i=0;i<apply_products_length;i++){var p=label.apply_products[i];if(p.handle===product.handle||p.id==product.id){match=true;break;}}}if(type==5){if(product.total_quantity&&product.total_quantity==0){match=true;}else{var vlen=product.variants.length;if(vlen>0){var submatch=true;for(var i=0;i<vlen;i++){submatch=submatch&&(product.variants[i].quantity==0);}match=submatch;}}}else if(type==4){if(product.total_quantity>0&&product.total_quantity<=label.low_stock_quantity){if(display_text.indexOf('q')>=0){display_text=display_text.replace('q',product.total_quantity);}match=true;}}else if(type==3){if(label.expi_dt){var newDate=new Date();if(Date.parse(label.expi_dt)>=Date.parse(newDate.toString())){match=true;}}}else if(type==2){var vlen=product.variants.length;if(vlen>0){var subMatch=false;for(var i=0;i<vlen;i++){var v=product.variants[i];if(v.compare_at_price_min&&v.compare_at_price_min>0&&v.price<v.compare_at_price_min){if(label.sale_percent>0){if(label.sale_percent<=((v.compare_at_price_min-v.price)/v.compare_at_price_min)*100){if(display_text.indexOf('p')>=0){display_text=display_text.replace('p',Math.round(((v.compare_at_price_min-v.price)/v.compare_at_price_min)*100));}subMatch=true;}}else if(label.sale_amt>0){if(label.sale_amt*100<=(v.compare_at_price_min-v.price)){if(display_text.indexOf('p')>=0){display_text=display_text.replace('p',(v.compare_at_price_min-v.price)/100);}subMatch=true;}}else{subMatch=true;}}else if(v.compare_at_price_max&&v.compare_at_price_max>0&&v.price<v.compare_at_price_max){if(label.sale_percent>0){if(label.sale_percent<=((v.compare_at_price_max-v.price)/v.compare_at_price_max)*100){if(display_text.indexOf('p')>=0){display_text=display_text.replace('p',Math.round(((v.compare_at_price_max-v.price)/v.compare_at_price_max)*100));}subMatch=true;}}else if(label.sale_amt>0){if(label.sale_amt*100<=(v.compare_at_price_max-v.price)){if(display_text.indexOf('p')>=0){display_text=display_text.replace('p',(v.compare_at_price_max-v.price)/100);}subMatch=true;}}else{subMatch=true;}}else if(v.compare_at_price&&v.compare_at_price>0&&v.price<v.compare_at_price){if(label.sale_percent>0){if(label.sale_percent<=((v.compare_at_price-v.price)/v.compare_at_price)*100){if(display_text.indexOf('p')>=0){display_text=display_text.replace('p',Math.round(((v.compare_at_price-v.price)/v.compare_at_price)*100));}subMatch=true;}}else if(label.sale_amt>0){if(label.sale_amt*100<=(v.compare_at_price-v.price)){if(display_text.indexOf('p')>=0){display_text=display_text.replace('p',(v.compare_at_price-v.price)/100);}subMatch=true;}}else{subMatch=true;}}if(subMatch){break;}}if(match==false){match=subMatch;}}else{if(product.compare_at_price_min&&product.compare_at_price_min>0&&product.price<product.compare_at_price_min){if(label.sale_percent>0){if(label.sale_percent<=((product.compare_at_price_min-product.price)/product.compare_at_price_min)*100){if(display_text.indexOf('p')>=0){display_text=display_text.replace('p',Math.round(((product.compare_at_price_min-product.price)/product.compare_at_price_min)*100));}match=true;}}else if(label.sale_amt>0){if(label.sale_amt*100<=(product.compare_at_price_min-product.price)){if(display_text.indexOf('p')>=0){display_text=display_text.replace('p',(product.compare_at_price_min-product.price)/100);}match=true;}}else{match=true;}}else if(product.compare_at_price_max&&product.compare_at_price_max>0&&product.price<product.compare_at_price_max){if(label.sale_percent>0){if(label.sale_percent<=((product.compare_at_price_max-product.price)/product.compare_at_price_max)*100){if(display_text.indexOf('p')>=0){display_text=display_text.replace('p',Math.round(((product.compare_at_price_max-product.price)/product.compare_at_price_max)*100));}match=true;}}else if(label.sale_amt>0){if(label.sale_amt*100<=(product.compare_at_price_max-product.price)){if(display_text.indexOf('p')>=0){display_text=display_text.replace('p',(product.compare_at_price_max-product.price)/100);}match=true;}}else{match=true;}}else if(product.compare_at_price&&product.compare_at_price>0&&product.price<product.compare_at_price){if(label.sale_percent>0){if(label.sale_percent<=((product.compare_at_price-product.price)/product.compare_at_price)*100){if(display_text.indexOf('p')>=0){display_text=display_text.replace('p',Math.round(((product.compare_at_price-product.price)/product.compare_at_price)*100));}match=true;}}else if(label.sale_amt>0){if(label.sale_amt*100<=(product.compare_at_price-product.price)){if(display_text.indexOf('p')>=0){display_text=display_text.replace('p',(product.compare_at_price-product.price)/100);}match=true;}}else{match=true;}}}}else if(type==1){if(label.new_start_dt&&label.new_end_dt){if(product.published_at_max&&Date.parse(product.published_at_max.substring(0,10))>=Date.parse(label.new_start_dt)&&Date.parse(product.published_at_max.substring(0,10))<=Date.parse(label.new_end_dt)){match=true;}if(product.published_at_min&&Date.parse(product.published_at_min.substring(0,10))>=Date.parse(label.new_start_dt)&&Date.parse(product.published_at_min.substring(0,10))<=Date.parse(label.new_end_dt)){match=true;}if(product.created_at&&Date.parse(product.created_at.substring(0,10))>=Date.parse(label.new_start_dt)&&Date.parse(product.created_at.substring(0,10))<=Date.parse(label.new_end_dt)){match=true;}if(product.published_at&&Date.parse(product.published_at.substring(0,10))>=Date.parse(label.new_start_dt)&&Date.parse(product.published_at.substring(0,10))<=Date.parse(label.new_end_dt)){match=true;}}if(label.new_threshold>0){var newDate=new Date();newDate.setDate(newDate.getDate()-label.new_threshold);if(product.published_at&&Date.parse(product.published_at.substring(0,10))>=Date.parse(newDate.toString())){match=true;}if(product.created_at&&Date.parse(product.created_at.substring(0,10))>=Date.parse(newDate.toString())){match=true;}if(product.published_at_min&&Date.parse(product.published_at_min.substring(0,10))>=Date.parse(newDate.toString())){match=true;}if(product.published_at_max&&Date.parse(product.published_at_max.substring(0,10))>=Date.parse(newDate.toString())){match=true;}}}if(match){callback(product,label,image,display_text);}return match;};FHSPROD.labelme.labelList=function(product,image){var match_count=0;var labels=FHSPROD.labelme.labels;for(var id in labels){var label=labels[id];if(label.exclude_products&&label.exclude_products.indexOf(product.id)>=0){continue;}if(label.exclude_collections){var ids=label.exclude_collections.split(',');var is_excluded=false;for(var i=0;i<ids.length;i++){if(product.collection_ids.indexOf(ids[i])>=0){is_excluded=true;break;}}if(is_excluded==true)continue;}if(label.exclude_tags&&label.exclude_tags.length>0){var tags=label.exclude_tags.split(',');for(var i=0;i<tags.length;i++){if(product.tags&&product.tags.indexOf(tags[i])>=0){is_excluded=true;break;}}if(is_excluded==true)continue;}var match=false;if(label.hide){if(match_count>0){continue;}}if(label.hasOwnProperty('show_on_collection_pg')&&label.show_on_collection_pg==0){continue;}match=FHSPROD.labelme.matchLabel(product,label,image,FHSPROD.labelme.showMatchLabelCollection);if(match){match_count++;if(FHSPROD.labelme.settings.show_multiple_labels&&FHSPROD.labelme.settings.show_multiple_labels==1){continue;}else{break;}}else{continue;}}return null;};function containerPadding(i,n){var padding=i.css('padding-left');if(padding!=''){n.css('margin-left',padding);}padding=i.css('padding-right');if(padding!=''){n.css('margin-right',padding);}padding=i.css('padding-top');if(padding!=''){n.css('margin-top',padding);}padding=i.css('padding-botom');if(padding!=''){n.css('margin-botom',padding);}};function insertLabel(i,label,pwidth,pheight,n,display_text){if(label.size_type&&label.size_type==1){n.css('min-height','50px').css('min-width','50px');i.append(n);return;}containerPadding(i,n);var deviceWidth=window.innerWidth||document.body.clientWidth;if(FHSPROD.labelme.settings&&FHSPROD.labelme.settings.support_mobile==1&&FHSPROD.labelme.settings.max_mobile_screen_width>=deviceWidth){if(display_text!=''){var style=n.children()[0].style;style.transform=style.transform+' scale('+FHSPROD.labelme.settings.mobile_ratio+') ';style.webkitTransform=style.webkitTransform+' scale('+FHSPROD.labelme.settings.mobile_ratio+') ';style.MozTransform=style.MozTransform+' scale('+FHSPROD.labelme.settings.mobile_ratio+') ';style.msTransform=style.msTransform+' scale('+FHSPROD.labelme.settings.mobile_ratio+') ';style.OTransform=style.OTransform+' scale('+FHSPROD.labelme.settings.mobile_ratio+') ';style.transformOrigin='25% 25%';}if(label.mobile_width&&label.mobile_width>0){n.css('width',label.mobile_width+'px').css('height',label.mobile_height+'px');i.append(n);}else if(FHSPROD.labelme.settings.mobile_ratio>0){var newWidth=parseInt(label.width*FHSPROD.labelme.settings.mobile_ratio,10);var newHeight=parseInt(label.height*FHSPROD.labelme.settings.mobile_ratio,10);n.css('width',newWidth+'px').css('height',newHeight+'px');label.mobile_width=newWidth;label.mobile_height=newHeight;i.append(n);}else{i.append(n);}}else if(FHSPROD.labelme.settings&&FHSPROD.labelme.settings.support_small_viewpot==1){if(FHSPROD.labelme.settings.max_viewpot_ratio>0&&FHSPROD.labelme.settings.max_viewpot_ratio<(label.width/pwidth)){if(display_text!=''){var style=n.children()[0].style;style.transform=style.transform+' scale('+FHSPROD.labelme.settings.viewpot_ratio+') ';style.webkitTransform=style.webkitTransform+' scale('+FHSPROD.labelme.settings.viewpot_ratio+') ';style.MozTransform=style.MozTransform+' scale('+FHSPROD.labelme.settings.viewpot_ratio+') ';style.msTransform=style.msTransform+' scale('+FHSPROD.labelme.settings.viewpot_ratio+') ';style.OTransform=style.OTransform+' scale('+FHSPROD.labelme.settings.viewpot_ratio+') ';style.transformOrigin='25% 25%';}if(label.viewpotWidth&&label.viewportHeight){n.css('width',label.viewpotWidth+'px').css('height',label.viewpotHeight+'px');i.append(n);}else{var newWidth=parseInt(label.width*FHSPROD.labelme.settings.viewpot_ratio,10);var newHeight=parseInt(label.height*FHSPROD.labelme.settings.viewpot_ratio,10);n.css('width',newWidth+'px').css('height',newHeight+'px');label.viewpotWidth=newWidth;label.viewpotHeight=newHeight;i.append(n);}}else{i.append(n);}}else{i.append(n);}};FHSPROD.labelme.showMatchLabelCollection=function(product,label,image,display_text){var p=jQuery(image);var img=jQuery('img',p);var pheight=p.height();var pwidth=p.width();if(pheight==0&&img.length>0){pheight=img[0].height;}if(pwidth==0&&img.length>0){pwidth=img[0].width;}var i=jQuery(image).parent(':not(a)').first();i.addClass('fhs-parent');if(FHSPROD.labelme.settings.wrap_exact_img_tag==1){if(p.find('img').length>0){i=p.find('img');}var p=jQuery('<div class=\"fhs-wrapper fhs-collection\">').css({});i.eq(0).wrap(p);i=jQuery(image).parent(':not(a)').find('.fhs-wrapper');}else if(FHSPROD.labelme.settings.add_wrapper==1){var p=jQuery('<div class=\"fhs-wrapper fhs-collection\">').css({'margin-left':FHSPROD.getMarginW(p),'margin-right':FHSPROD.getMarginW(p),'margin-top':FHSPROD.getMarginH(p),'margin-bottom':FHSPROD.getMarginH(p),'position':'relative',padding:FHSPROD.getPadding(p),});i.eq(0).wrap(p);}else{i.css({'position':'relative'});}var l=i.find('.fhs-image[data-label-id=\"'+label.id+'\"]',image);if(l.length>0){l.first().show();}else{var n=jQuery('<div>');n.attr('data-label-id',label.id).attr('class','fhs-image '+label.css_class).attr('style',label.div_style+label.css_inline);var t=jQuery('<div>');t.attr('style',label.text_style).text(display_text);n.append(t);var pos=label.position;n.css('position','absolute');if('custom'==pos){}else if('topleft'==pos){n.css('top','0%');n.css('left','0%');}else if('topright'==pos){n.css('top','0%');n.css('right','0%');}else if('topcenter'==pos){var csize=label.size_type==0?(((pwidth-label.width)/2)/pwidth)*100:(((100-label.width)/2));n.css('top','0%');n.css('left',csize+'%');}else if('bottomleft'==pos){n.css('bottom','0%');n.css('left','0%');}else if('bottomright'==pos){n.css('bottom','0%');n.css('right','0%');}else if('bottomcenter'==pos){var csize=label.size_type==0?(((pwidth-label.width)/2)/pwidth)*100:(((100-label.width)/2));n.css('bottol','0%');n.css('left',csize+'%');}else if('leftcenter'==pos){var csize=label.size_type==0?(((pheight-label.height)/2)/pheight)*100:(((100-label.height)/2));n.css('top',csize+'%');n.css('left','0%');}else if('rightcenter'==pos){var csize=label.size_type==0?(((pheight-label.height)/2)/pheight)*100:(((100-label.height)/2));n.css('top',csize+'%');n.css('right','0%');}else if('center'==pos){var csize=label.size_type==0?(((pwidth-label.width)/2)/pwidth)*100:(((100-label.width)/2));n.css('top',csize+'%');n.css('left',csize+'%');}insertLabel(i,label,pwidth,pheight,n,display_text);}};function loadCSS(href){var cssLink=$('<link rel=\"stylesheet\" type=\"text/css\" href=\"'+href+'\">');jQuery('head').append(cssLink);};function loadFont(fontName){loadCSS('https://fonts.googleapis.com/css?family='+fontName);};function findProductListImages(){var productImages;if(FHSPROD.themeName=='simple'||FHSPROD.themeName=='jumpstart'){productImages=jQuery('a[href*=\"/products/\"]:not([href*=\".jp\"]):not(form a[href*=\"/products/\"]):not([href*=\".JP\"]):not([href*=\".png\"]):not([href*=\".PNG\"]):not(.share-twitter):not(.share-facebook):not(.share-pinterest):not(.share-google)').has('img[src*=\"/products/\"], img[src*=\"/no-image\"]');}else{productImages=jQuery('a[href*=\"/products/\"]:not([href*=\".jp\"]):not(form a[href*=\"/products/\"]):not([href*=\".JP\"]):not([href*=\".png\"]):not([href*=\".PNG\"]):not(.share-twitter):not(.share-facebook):not(.share-pinterest):not(.share-google)');}return productImages;};function findProductMainImages(){var img_src='';var first_src='';if(FHSPROD.labelme.product_main.images[0]){first_src=FHSPROD.labelme.product_main.images[0].src;img_src=FHSPROD.labelme.product_main.images[0].src;img_src=img_src.substr(0,img_src.indexOf('.'));}var i;var matches;var images=[];var allImages=jQuery('img[src*=\"/products/\"][src*=\"/cdn.shopify.com/s/files/\"][src*=\".jp\"],img[src*=\"/products/\"][src*=\"/cdn.shopify.com/s/files/\"][src*=\".JP\"],img[src*=\"/products/\"][src*=\"/cdn.shopify.com/s/files/\"][src*=\".png\"],img[src*=\"/products/\"][src*=\"/cdn.shopify.com/s/files/\"][src*=\".PNG\"]');if(FHSPROD.labelme.settings.show_on_all_variant_images==0&&img_src!=''){var firstImages;if(FHSPROD.themeName=='minimal'){firstImages=allImages;}else{firstImages=jQuery('img[src*=\"'+img_src+'\"]');}if(firstImages.length>0){for(i=0;i<firstImages.length;i++){matches=firstImages[i].src.match(/(.*\/[\w\-\_\.]+)(\_0|\_4|\_3|\_2|\_1|\_8|\_7|\_6|\_5)\.(\w{2,4})/);if(matches&&matches[2]&&matches[2]!='_4'&&matches[2]!='_3'&&matches[2]!='_2'&&matches[2]!='_1'&&matches[2]!='_0'&&jQuery(firstImages[i]).is(':visible')){images.push(firstImages[i]);if(FHSPROD.themeName!='minimal'&&FHSPROD.labelme.settings.stop_on_first_image==1){break;}}else if(jQuery(firstImages[i]).is(':visible')){images.push(firstImages[i]);if(FHSPROD.themeName!='minimal'&&FHSPROD.labelme.settings.stop_on_first_image==1){break;}}}if(images.length==0&&allImages.length>0){images.push(firstImages[0]);}if(FHSPROD.themeName=='minimal'){var maxWidth=0;var mainImage;jQuery(images).each(function(index,image){var currentWidth=image.width;if(currentWidth>maxWidth){maxWidth=currentWidth;mainImage=image}});return jQuery(mainImage)}}else if(allImages.length>0){images.push(allImages[0]);}if(images.length==0&&firstImages.length>0){images.push(firstImages[0]);}}else{var pimage;var ilen=allImages.length;for(var j=0;j<FHSPROD.labelme.product_main.images.length;j++){pimage=FHSPROD.labelme.product_main.images[j];matches=pimage.src.match(/(.*\/[\w\-\_\.]+)\.(\w{2,4})/);if(matches&&matches[1]&&matches[1].length>0){var matchImages=jQuery('img[src*=\"'+matches[1]+'\"]');if(matchImages.length>0){images.push(matchImages);}}}if(images.length==0){var imageQuery='';for(i=0;i<FHSPROD.labelme.product_main.images.length;i++){imageQuery+='img[src*=\"'+FHSPROD.labelme.product_main.images[i].src+'\"],';}imageQuery=imageQuery.replace(/,(?=[^,]*$)/,'');images.push(jQuery(imageQuery));}}return images;};function getVariantId(){var variantId=null;return variantId;};function executeQuery(arrProductImages,queryUrl){jQuery.ajax({url:queryUrl,dataType:'text',type:'post',success:function(text){try{if(text.indexOf('START_FHSPROD')>=0){text=text.substring(text.indexOf('START_FHSPROD')+13,text.lastIndexOf('END_FHSPROD'));}json=JSON.parse(text);if(json&&json.results){var rlen=json.results.length;for(var i=0;i<rlen;i++){FHSPROD.labelme.products[json.results[i].handle]=json.results[i];}showLabels(arrProductImages);}}catch(err){console.error(err);}}});};function searchMainProductByHandle(queryUrl){jQuery.ajax({url:queryUrl,dataType:'text',type:'post',success:function(text){try{if(text.indexOf('START_FHSPROD')>=0){text=text.substring(text.indexOf('START_FHSPROD')+13,text.lastIndexOf('END_FHSPROD'));}json=JSON.parse(text);if(json&&json.results){var rlen=json.results.length;for(var i=0;i<rlen;i++){FHSPROD.labelme.product_main=json.results[i];var images=findProductMainImages();var ilen=images.length;for(var i=0;i<ilen;i++){var i=jQuery(images[i]);FHSPROD.labelme.labelMain(FHSPROD.labelme.product_main.variants[0].id,i);}break;}}}catch(err){console.debug(err);}}});};FHSPROD.labelme.productImages={};function queryProduct(arrProductImages){var fullQuery='';var idx=0;var startSlice=0;var ilen=arrProductImages.length;var arrProductImagesQuery=[];for(var i=0;i<ilen;i++){var product=arrProductImages[i];var splits=jQuery(product).attr('href').split('/');var handle=splits[splits.length-1].split('?')[0];if(handle.indexOf('#')>0){handle=handle.substring(0,handle.indexOf('#'));}if(jQuery('#fhs_meta_'+handle).length>0){var prodmeta=JSON.parse(jQuery('#fhs_meta_'+handle).get(0).innerText);FHSPROD.labelme.products[handle]=prodmeta;showLabels_Single(product,handle);}else{idx++;arrProductImagesQuery.push(product);if(fullQuery.length>0){fullQuery+=" OR ";}fullQuery+='handle:\"'+handle+'\"';if(idx>=20&&arrProductImagesQuery.length>0){fullQuery='/search.js?view=fhsprod-labelme-json&q='+fullQuery;executeQuery(arrProductImagesQuery,fullQuery);arrProductImagesQuery=[];startSlice+=idx;fullQuery='';idx=0;}}}if(idx>0&&arrProductImagesQuery.length>0){fullQuery='/search.js?view=fhsprod-labelme-json&q='+fullQuery;executeQuery(arrProductImagesQuery,fullQuery);fullQuery='';}};function showLabels(arrProductImages){var ilen=arrProductImages.length;for(var i=0;i<ilen;i++){var productImage=arrProductImages[i];var splits=jQuery(productImage).attr('href').split('/');var handle=splits[splits.length-1].split('?')[0];if(handle.indexOf('#')>0){handle=handle.substring(0,handle.indexOf('#'));}if(!FHSPROD.labelme.productImages.hasOwnProperty(handle)){FHSPROD.labelme.productImages[handle]=productImage;}var product=FHSPROD.labelme.products[handle];if(product){FHSPROD.labelme.labelList(product,productImage);}}};function showLabels_Single(productImage,handle){if(!FHSPROD.labelme.productImages.hasOwnProperty(handle)){FHSPROD.labelme.productImages[handle]=productImage;}var product=FHSPROD.labelme.products[handle];if(product){FHSPROD.labelme.labelList(product,productImage);}};function addClassCss(){var cssVal='';if(FHSPROD.labelme.settings.scale_on_hover==1){cssVal='div.fhs-image:hover{ -webkit-transition: all 200ms ease-in!important;'+'-webkit-transform: scale(1.1)!important;'+'-ms-transition: all 200ms ease-in!important;-ms-transform: scale(1.1)!important;-moz-transition: all 200ms ease-in!important;-moz-transform: scale(1.1)!important;'+'transition: all 200ms ease-in!important;transform: scale(1.1)!important;}'+'';}if(FHSPROD.themeName&&FHSPROD.themeName=='venture'){cssVal+='div.fhs-wrapper {height: 255px;margin-bottom: 60px;}';}jQuery('<style>').attr('type','text/css').html(cssVal).appendTo('head');};function processCollectionLabels(thirdPartiesProductImages){if((typeof FHSPROD.labelme.settings.show_collection_page=='undefined'||FHSPROD.labelme.settings.show_collection_page==1)&&(typeof FHSPROD.labelme.pg==='undefined'||FHSPROD.labelme.pg=='collection'||FHSPROD.labelme.pg==''||FHSPROD.labelme.pg=='product')){var arrProductImages;if(typeof thirdPartiesProductImages=='undefined'){arrProductImages=findProductListImages();}else{arrProductImages=thirdPartiesProductImages;}if(typeof FHSPROD.labelme.product_list==='undefined')FHSPROD.labelme.product_list=[];FHSPROD.labelme.products={};if(typeof FHSPROD_product_list!=='undefined'){FHSPROD.labelme.product_list=FHSPROD_product_list;}if(FHSPROD.labelme.product_list){jQuery.each(FHSPROD.labelme.product_list,function(i,product){FHSPROD.labelme.products[product.handle]=product;});}if(FHSPROD.labelme.product_front){jQuery.each(FHSPROD.labelme.product_front,function(i,product){FHSPROD.labelme.products[product.handle]=product;});}if(FHSPROD.labelme.pg!='product'||(FHSPROD.labelme.pg=='product'&&(typeof FHSPROD.labelme.settings.show_product_page_related==='undefined'||FHSPROD.labelme.settings.show_product_page_related==1))){if(FHSPROD.labelme.product_list.length==0){queryProduct(arrProductImages);}else{showLabels(arrProductImages);}}}};function observeElement(id){var target=document.getElementById(id);var timeoutVar;var observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){clearTimeout(timeoutVar);timeoutVar=setTimeout(function(){processCollectionLabels();},500);});});var config={attributes:true,childList:true,characterData:true};observer.observe(target,config);};function identifyPage(){FHSPROD.labelme.pg='collection';var storeURL=window.location.pathname;if(storeURL){var matches=storeURL.match(/(.*)\/(.[products]+)\/(.*)/);if(matches&&matches[3]){FHSPROD.labelme.pg='product';}else if(storeURL.indexOf('collections')>0){FHSPROD.labelme.pg='collection';}else if(storeURL.indexOf('blogs')>0){FHSPROD.labelme.pg='blog';}else if(storeURL.indexOf('pages')>0){FHSPROD.labelme.pg='page';}else if(storeURL.indexOf('search')>0){FHSPROD.labelme.pg='search';}}};jQuery(document).ready(function(){try{identifyPage();addClassCss();if(FHSPROD.themeName=='brooklyn'||FHSPROD.themeName=='pop'||FHSPROD.themeName=='supply'||FHSPROD.themeName=='narrative'||FHSPROD.themeName=='minimal'||FHSPROD.themeName=='boundless'||FHSPROD.themeName=='venture'||FHSPROD.themeName=='simple'||FHSPROD.themeName=='debut'||FHSPROD.themeName=='jumpstart'||FHSPROD.themeName=='launchpad'){FHSPROD.labelme.settings.wrap_exact_img_tag=0;}jQuery('div.fhs-wrapper').remove();var llen=FHSPROD.labelme.labels.length;for(var i=0;i<llen;i++){var label=FHSPROD.labelme.labels[i];if(label.font_name){loadFont(label.font_name);}}if(typeof FHSPROD.labelme.pg==='undefined'&&(typeof FHSPROD.labelme.settings.show_product_page==='undefined'||FHSPROD.labelme.settings.show_product_page==1)){var storeURL=window.location.pathname;if(storeURL){var matches=storeURL.match(/(.*)\/(.[products]+)\/(.*)/);if(matches&&matches[3]){FHSPROD.labelme.pg='product';storeURL=matches[3];if(storeURL.indexOf("?")>-1){storeURL=url.substr(0,storeURL.indexOf("?"));}var q='handle:\"'+storeURL+'\"';q='/search.js?view=fhsprod-labelme-json&q='+q;searchMainProductByHandle(q);}}}else if(FHSPROD.labelme.pg=='product'&&(typeof FHSPROD.labelme.settings.show_product_page==='undefined'||FHSPROD.labelme.settings.show_product_page==1)){var images=findProductMainImages();var ilen=images.length;for(var i=0;i<ilen;i++){var image=images[i];if(image){var variantId=getVariantId();if(!variantId){variantId=FHSPROD.labelme.product_main.variants[0].id;}FHSPROD.labelme.labelMain(variantId,jQuery(image));}}}processCollectionLabels();jQuery('.fhs-image').css('display','block');if(typeof FHSPROD.labelme.settings.show_collection_page=='undefined'||FHSPROD.labelme.pg=='product'){setTimeout(function(){processCollectionLabels();},2000);}}catch(e){console.error(e);}});};if(FHSPROD.labelme.loadedJs===true){FHSPROD.labelme.jQuery(document).ready(function(){labelInit(FHSPROD,FHSPROD.labelme.jQuery);});}else{if(typeof jQuery==='undefined'){loadScript('//code.jquery.com/jquery-1.11.1.min.js',function(){FHSPROD.jQuery=jQuery.noConflict(true);FHSPROD.jQuery(document).ready(function(){labelInit(FHSPROD,FHSPROD.jQuery);});});}else{jQuery(document).ready(function(){labelInit(FHSPROD,jQuery);});}}